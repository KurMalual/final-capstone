{"ast":null,"code":"\"use client\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\majok\\\\Downloads\\\\smart-farm-advisory\\\\frontend\\\\src\\\\components\\\\ProtectedRoute.js\",\n  _s = $RefreshSig$();\nimport { Navigate } from \"react-router-dom\";\nimport { useAuth } from \"../context/UserContext\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ProtectedRoute = ({\n  children,\n  userType\n}) => {\n  _s();\n  const {\n    user,\n    loading\n  } = useAuth();\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"Loading...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 9,\n      columnNumber: 12\n    }, this);\n  }\n  if (!user) {\n    return /*#__PURE__*/_jsxDEV(Navigate, {\n      to: \"/login\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 13,\n      columnNumber: 12\n    }, this);\n  }\n\n  // If userType is specified, check if the user has the required role\n  if (userType && user.user_type !== userType) {\n    // Redirect to the appropriate dashboard based on user type\n    switch (user.user_type) {\n      case \"farmer\":\n        return /*#__PURE__*/_jsxDEV(Navigate, {\n          to: \"/farmer-dashboard\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 21,\n          columnNumber: 16\n        }, this);\n      case \"buyer\":\n        return /*#__PURE__*/_jsxDEV(Navigate, {\n          to: \"/buyer-dashboard\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 23,\n          columnNumber: 16\n        }, this);\n      case \"transporter\":\n        return /*#__PURE__*/_jsxDEV(Navigate, {\n          to: \"/transporter-dashboard\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 25,\n          columnNumber: 16\n        }, this);\n      case \"equipment_seller\":\n        return /*#__PURE__*/_jsxDEV(Navigate, {\n          to: \"/equipment-dashboard\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 27,\n          columnNumber: 16\n        }, this);\n      default:\n        return /*#__PURE__*/_jsxDEV(Navigate, {\n          to: \"/\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 29,\n          columnNumber: 16\n        }, this);\n    }\n  }\n  return children;\n};\n_s(ProtectedRoute, \"EmJkapf7qiLC5Br5eCoEq4veZes=\", false, function () {\n  return [useAuth];\n});\n_c = ProtectedRoute;\nexport default ProtectedRoute;\nvar _c;\n$RefreshReg$(_c, \"ProtectedRoute\");","map":{"version":3,"names":["_jsxFileName","_s","$RefreshSig$","Navigate","useAuth","jsxDEV","_jsxDEV","ProtectedRoute","children","userType","user","loading","fileName","lineNumber","columnNumber","to","user_type","_c","$RefreshReg$"],"sources":["C:/Users/majok/Downloads/smart-farm-advisory/frontend/src/components/ProtectedRoute.js"],"sourcesContent":["\"use client\"\r\nimport { Navigate } from \"react-router-dom\"\r\nimport { useAuth } from \"../context/UserContext\"\r\n\r\nconst ProtectedRoute = ({ children, userType }) => {\r\n  const { user, loading } = useAuth()\r\n\r\n  if (loading) {\r\n    return <div>Loading...</div>\r\n  }\r\n\r\n  if (!user) {\r\n    return <Navigate to=\"/login\" />\r\n  }\r\n\r\n  // If userType is specified, check if the user has the required role\r\n  if (userType && user.user_type !== userType) {\r\n    // Redirect to the appropriate dashboard based on user type\r\n    switch (user.user_type) {\r\n      case \"farmer\":\r\n        return <Navigate to=\"/farmer-dashboard\" />\r\n      case \"buyer\":\r\n        return <Navigate to=\"/buyer-dashboard\" />\r\n      case \"transporter\":\r\n        return <Navigate to=\"/transporter-dashboard\" />\r\n      case \"equipment_seller\":\r\n        return <Navigate to=\"/equipment-dashboard\" />\r\n      default:\r\n        return <Navigate to=\"/\" />\r\n    }\r\n  }\r\n\r\n  return children\r\n}\r\n\r\nexport default ProtectedRoute\r\n"],"mappings":"AAAA,YAAY;;AAAA,IAAAA,YAAA;EAAAC,EAAA,GAAAC,YAAA;AACZ,SAASC,QAAQ,QAAQ,kBAAkB;AAC3C,SAASC,OAAO,QAAQ,wBAAwB;AAAA,SAAAC,MAAA,IAAAC,OAAA;AAEhD,MAAMC,cAAc,GAAGA,CAAC;EAAEC,QAAQ;EAAEC;AAAS,CAAC,KAAK;EAAAR,EAAA;EACjD,MAAM;IAAES,IAAI;IAAEC;EAAQ,CAAC,GAAGP,OAAO,CAAC,CAAC;EAEnC,IAAIO,OAAO,EAAE;IACX,oBAAOL,OAAA;MAAAE,QAAA,EAAK;IAAU;MAAAI,QAAA,EAAAZ,YAAA;MAAAa,UAAA;MAAAC,YAAA;IAAA,OAAK,CAAC;EAC9B;EAEA,IAAI,CAACJ,IAAI,EAAE;IACT,oBAAOJ,OAAA,CAACH,QAAQ;MAACY,EAAE,EAAC;IAAQ;MAAAH,QAAA,EAAAZ,YAAA;MAAAa,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC;EACjC;;EAEA;EACA,IAAIL,QAAQ,IAAIC,IAAI,CAACM,SAAS,KAAKP,QAAQ,EAAE;IAC3C;IACA,QAAQC,IAAI,CAACM,SAAS;MACpB,KAAK,QAAQ;QACX,oBAAOV,OAAA,CAACH,QAAQ;UAACY,EAAE,EAAC;QAAmB;UAAAH,QAAA,EAAAZ,YAAA;UAAAa,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC;MAC5C,KAAK,OAAO;QACV,oBAAOR,OAAA,CAACH,QAAQ;UAACY,EAAE,EAAC;QAAkB;UAAAH,QAAA,EAAAZ,YAAA;UAAAa,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC;MAC3C,KAAK,aAAa;QAChB,oBAAOR,OAAA,CAACH,QAAQ;UAACY,EAAE,EAAC;QAAwB;UAAAH,QAAA,EAAAZ,YAAA;UAAAa,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC;MACjD,KAAK,kBAAkB;QACrB,oBAAOR,OAAA,CAACH,QAAQ;UAACY,EAAE,EAAC;QAAsB;UAAAH,QAAA,EAAAZ,YAAA;UAAAa,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC;MAC/C;QACE,oBAAOR,OAAA,CAACH,QAAQ;UAACY,EAAE,EAAC;QAAG;UAAAH,QAAA,EAAAZ,YAAA;UAAAa,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC;IAC9B;EACF;EAEA,OAAON,QAAQ;AACjB,CAAC;AAAAP,EAAA,CA7BKM,cAAc;EAAA,QACQH,OAAO;AAAA;AAAAa,EAAA,GAD7BV,cAAc;AA+BpB,eAAeA,cAAc;AAAA,IAAAU,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}